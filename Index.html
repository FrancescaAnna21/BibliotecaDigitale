<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Libreria 3CI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <creation-organizer></creation-organizer>
    
    <header>
        <h1>Libreria 3CI</h1>
        <div class="filtri">
            <input type="radio" id="avventura" name="categoria" hidden>
            <label for="avventura" class="button">Avventura</label>

            <input type="radio" id="azione" name="categoria" hidden>
            <label for="azione" class="button">Azione</label>

            <input type="radio" id="biografico" name="categoria" hidden>
            <label for="biografico" class="button">Biografico</label>

            <input type="radio" id="crimine" name="categoria" hidden>
            <label for="crimine" class="button">Crimine</label>

            <input type="radio" id="fantascienza" name="categoria" hidden>
            <label for="fantascienza" class="button">Fantascienza</label>

            <input type="radio" id="fantasy" name="categoria" hidden>
            <label for="fantasy" class="button">Fantasy</label>

            <input type="radio" id="romantico" name="categoria" hidden>
            <label for="romantico" class="button">Romantico</label>

            <input type="radio" id="noir" name="categoria" hidden>
            <label for="noir" class="button">Noir</label>

            <input type="radio" id="horror" name="categoria" hidden>
            <label for="horror" class="button">Horror</label>

            <input type="radio" id="giallo" name="categoria" hidden>
            <label for="giallo" class="button">Giallo</label>

            <input type="radio" id="psicologico" name="categoria" hidden>
            <label for="psicologico" class="button">Psicologico</label>

            <input type="radio" id="thriller" name="categoria" hidden>
            <label for="thriller" class="button">Thriller</label>

            <input type="radio" id="western" name="categoria" hidden>
            <label for="western" class="button">Western</label>
        </div>
    </header>

    <main>
        <section class="sezione-data-pubbl">
            <h2>Oggi</h2>
            <div class="lista-libri" id="lista-libri-oggi">
                <!-- Esempio di libro -->
                <div class="libro">
                    <img src="copertina.jpg" alt="Copertina">
                    <h3>Titolo del Libro</h3>
                    <div class="dettagli">
                        <p><strong>Genere:</strong> Avventura</p>
                        <p><strong>Trama:</strong> Questa è la trama del libro.</p>
                    </div>
                </div>
                <!-- Fine esempio di libro -->
            </div>

            <h2>Ieri</h2>
            <div class="lista-libri" id="lista-libri-ieri">
                <div class="libro">
                    <img src="copertina.jpg" alt="Copertina">
                    <h3>Titolo del Libro</h3>
                    <div class="dettagli">
                        <p><strong>Genere:</strong> Avventura</p>
                        <p><strong>Trama:</strong> Questa è la trama del libro.</p>
                    </div>
                </div>
            </div>
            
            <h2>22/02/2025</h2>
            <div class="lista-libri" id="lista-libri-altro">
                <div class="libro">
                    <img src="copertina.jpg" alt="Copertina">
                    <h3>Titolo del Libro</h3>
                    <div class="dettagli">
                        <p><strong>Genere:</strong> Avventura</p>
                        <p><strong>Trama:</strong> Questa è la trama del libro.</p>
                    </div>
                </div>
            </div>

            <!-- Aggiungi altre sezioni temporali -->
        </section>

        <!-- Pulsante + per aprire il modulo -->
        <input type="checkbox" id="toggle-form" hidden>
        <label for="toggle-form" class="add-book-btn">+</label>

        <!-- Overlay per oscurare il contenuto sottostante -->
        <div class="overlay"></div>
        
        <!-- Modulo per l'aggiunta dei libri -->
        <section class="sezione-aggiungi-libro">
            <h2>Aggiungi un Nuovo Libro</h2>
            <form id="form-aggiungi-libro">
                <label for="titolo">Titolo:</label>
                <input type="text" id="titolo" name="titolo" required>

                <label for="autore">Autore:</label>
                <input type="text" id="autore" name="autore" required>
                
                <label for="categoria">Categoria:</label>
                <select id="categoria" name="categoria" required>
                    <option value="avventura">Avventura</option>
                    <option value="azione">Azione</option>
                    <option value="biografico">Biografico</option>
                    <option value="crimine">Crimine</option>
                    <option value="fantascienza">Fantascienza</option>
                    <option value="fantasy">Fantasy</option>
                    <option value="romantico">Romantico</option>
                    <option value="noir">Noir</option>
                    <option value="horror">Horror</option>
                    <option value="giallo">Giallo</option>
                    <option value="psicologico">Psicologico</option>
                    <option value="thriller">Thriller</option>
                    <option value="western">Western</option>
                </select>

                <label for="copertina">Copertina:</label>
                <input type="file" id="copertina" name="copertina" accept="image/*" required>

                <label for="trama" class="trama-label">Trama:</label>
                <textarea id="trama" name="trama" rows="4" required></textarea>
                
                <button type="submit">Aggiungi Libro</button>
            </form>
        </section>
    </main>

    <!-- Script per gestire la visualizzazione dei dettagli del libro -->
    <script>
        document.querySelectorAll('.libro').forEach(libro => {
            libro.addEventListener('click', () => {
                libro.querySelector('.dettagli').classList.toggle('visibile');
            });
        });

        document.getElementById("form-aggiungi-libro").addEventListener("submit", function(event) {
            event.preventDefault(); // Previene il comportamento predefinito dell'invio del modulo

            // Ottieni i valori del modulo
            let titolo = document.getElementById("titolo").value;
            let autore = document.getElementById("autore").value;
            let categoria = document.getElementById("categoria").value;
            let copertina = document.getElementById("copertina").files[0];
            let trama = document.getElementById("trama").value;

            // Crea un nuovo elemento libro
            let libroDiv = document.createElement("div");
            libroDiv.classList.add("libro");

            // Crea l'elemento immagine
            let imgElement = document.createElement("img");
            imgElement.src = URL.createObjectURL(copertina);
            imgElement.alt = "Copertina";
            libroDiv.appendChild(imgElement);

            // Crea l'elemento titolo
            let titoloElement=document.createElement("h3");
            titoloElement.textContent = titolo;
            libroDiv.appendChild(titoloElement);

            // Crea l'elemento dettagli
            let dettagliDiv = document.createElement("div");
            dettagliDiv.classList.add("dettagli");

            let categoriaElement = document.createElement("p");
            categoriaElement.innerHTML = `<strong>Genere:</strong> ${categoria}`;
            dettagliDiv.appendChild(categoriaElement);

            let tramaElement = document.createElement("p");
            tramaElement.innerHTML = `<strong>Trama:</strong> ${trama}`;
            dettagliDiv.appendChild(tramaElement);

            libroDiv.appendChild(dettagliDiv);

            // Aggiungi il libro alla lista dei libri di oggi
            document.getElementById("lista-libri-oggi").appendChild(libroDiv);

            // Resetta il modulo
            document.getElementById("form-aggiungi-libro").reset();
            
            // Chiudi il modulo
            document.getElementById("toggle-form").checked = false;
        });
    </script>
</body>
</html>


